<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>TraderCreatorHandler.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">src (May 26, 2021 9:58:16 PM)</a> &gt; <a href="../../index.html" class="el_group">IslandTraderGUI</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">commands</a> &gt; <span class="el_source">TraderCreatorHandler.java</span></div><h1>TraderCreatorHandler.java</h1><pre class="source lang-java linenums">package commands;

import java.util.ArrayList;

import map.Island;
import map.World;
import ships.Ship;
import trader.Trader;

/**
 * The TraderCreatorHandler is created for setting up a new player in the
 * command line interface. It gets an ArrayList of commands and profile
 * information of a new player in string form from the NewPlayerIO object,
 * invokes matching methods and creates a new Trader object and a new Ship project.
 * It also returns a report of implementing the command in string for the 
 * ReportPrinter object.
 * &lt;p&gt;
 * The TraderCreatorHandler saves the new created Trader object and Ship object
 * to its attributes for the use of GameEnvironment.
 * &lt;p&gt;
 * 
 * @author Finn van Dorsser
 * @author Meng Zhang
 */

public class TraderCreatorHandler {
	
	/**
	 * Attribute world is a World object which stores all the environment 
	 * objects like Islands, Stores, Ports, Routes and Items. It is used to get 
	 * the Island object with the name storing in the ArrayList of 
	 * commandArguments. 
	 */ 
	private static World world;
	
	/**
	 * Attribute newPlayer stores the new created Trader object. It will be passed
	 * to the GameEnvironment as the player object.
	 */ 
	private static Trader newPlayer;
	
	/**
	 * Attribute newShip stores the new created ship object. It will be passed
	 * to the GameEnvironment as the ship object.
	 */ 
	private static Ship newShip; 
	
	/**
	 * This constructor sets the value of attribute world.
	 * @param newWorld the current World object 
	 */
<span class="nc" id="L52">	public TraderCreatorHandler(World newWorld) {</span>
		
<span class="nc" id="L54">		world = newWorld;</span>
		
<span class="nc" id="L56">	}</span>
	
	/**
	 * This method takes an ArrayList of string commands, separates the command 
	 * name from its arguments and call their matching methods. If the argument
	 * doesn't include commands &quot;quit&quot; or &quot;cancel&quot;, this method will create a new
	 * Trader object and a new Ship object and store them in the class 
	 * attributes.
	 * @param commandArguments An ArrayList including all the commands and 
	 * arguments in string form
	 * @return a string report of implementing the command in the argument
	 */
	public static String createPlayer(ArrayList&lt;String&gt; commandArguments) {
		
<span class="nc" id="L70">		String report = &quot;No trader created. Please restart the game.&quot;;</span>
		
<span class="nc bnc" id="L72" title="All 2 branches missed.">		if (commandArguments.contains(&quot;quit&quot;)) {</span>
<span class="nc" id="L73">			report = quitCommand();</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">		} else if (commandArguments.contains(&quot;cancel&quot;)) {</span>
<span class="nc" id="L75">			report = &quot;You've cancelled it. You can create a new Trader again.&quot;;</span>
<span class="nc" id="L76">		} else {</span>
<span class="nc" id="L77">			String name = commandArguments.get(0);</span>
<span class="nc" id="L78">			String daysStr = commandArguments.get(1);</span>
<span class="nc" id="L79">			String homeIslandName = commandArguments.get(2);</span>
<span class="nc" id="L80">			String shipName = commandArguments.get(3);</span>
			
<span class="nc" id="L82">			int days = Integer.parseInt(daysStr);</span>
<span class="nc" id="L83">			Island homeIsland = world.getIsland(homeIslandName);</span>
			
<span class="nc" id="L85">			newPlayer = new Trader(days, name, homeIsland);</span>
<span class="nc" id="L86">			newShip = world.getShip(shipName);</span>
<span class="nc" id="L87">			newShip.setCaptain(newPlayer);</span>
<span class="nc" id="L88">			newPlayer.setOwnedShip(newShip);</span>
			
<span class="nc" id="L90">			report = &quot;Congratulations! A new trader has been created.\n\n&quot; </span>
<span class="nc" id="L91">			        + newPlayer.toString() + &quot;\n\n&quot; </span>
<span class="nc" id="L92">					+ &quot;Let's get started ... &quot;;</span>
		}
		
<span class="nc" id="L95">		return report;</span>
	}
	
	/**
	 * This method is the getter of the newPlayer attribute.
	 * @return the newly created Trader object
	 */
	public static Trader getNewPlayer() {
<span class="nc" id="L103">		return newPlayer;</span>
	}
	
	/**
	 * This method is the getter of the newShip attribute.
	 * @return the newly created Ship object
	 */
	public static Ship getNewShip() {
<span class="nc" id="L111">		return newShip;</span>
	}
	
	/**
	 * This method terminates the whole program.
	 * @return a string report showing the user that they have quit the game
	 */
	public static String quitCommand() {
<span class="nc" id="L119">		String report = &quot;You quit the game.&quot;;</span>
<span class="nc" id="L120">		System.exit(0);</span>
<span class="nc" id="L121">		return report;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span>src (May 26, 2021 9:58:16 PM)</div></body></html>